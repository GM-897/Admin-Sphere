{"ast":null,"code":"var _jsxFileName = \"/Users/gm10/Desktop/DEVELOPMENT/dashboard/frontend/src/pages/RoleManagement.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport Table from \"../components/Table\";\nimport RoleDropdown from \"../components/RoleDropdown\";\nimport api from \"../utils/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RoleManagement = () => {\n  _s();\n  const [users, setUsers] = useState([]);\n  const [roles, setRoles] = useState([]);\n  useEffect(() => {\n    const fetchData = async () => {\n      const usersRes = await api.get(\"/users\");\n      const rolesRes = await api.get(\"/roles\");\n      setUsers(usersRes.data);\n      setRoles(rolesRes.data.map(role => role.name));\n    };\n    fetchData();\n  }, []);\n  const handleRoleChange = async (userId, newRole) => {\n    await api.put(`/users/${userId}`, {\n      role: newRole\n    });\n    setUsers(prev => prev.map(user => user._id === userId ? {\n      ...user,\n      role: newRole\n    } : user));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"role-management\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Role Management\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Table, {\n      columns: [\"Name\", \"Role\", \"Actions\"],\n      data: users.map(user => ({\n        Name: user.name,\n        Role: /*#__PURE__*/_jsxDEV(RoleDropdown, {\n          roles: roles,\n          selectedRole: user.role,\n          onChange: newRole => handleRoleChange(user._id, newRole)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 13\n        }, this),\n        Actions: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => console.log(\"Edit\"),\n          children: \"Edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 20\n        }, this)\n      }))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 5\n  }, this);\n};\n_s(RoleManagement, \"x/yEytKrZULpy5LoFK+dsbx2H6A=\");\n_c = RoleManagement;\nexport default RoleManagement;\nvar _c;\n$RefreshReg$(_c, \"RoleManagement\");","map":{"version":3,"names":["React","useState","useEffect","Table","RoleDropdown","api","jsxDEV","_jsxDEV","RoleManagement","_s","users","setUsers","roles","setRoles","fetchData","usersRes","get","rolesRes","data","map","role","name","handleRoleChange","userId","newRole","put","prev","user","_id","className","children","fileName","_jsxFileName","lineNumber","columnNumber","columns","Name","Role","selectedRole","onChange","Actions","onClick","console","log","_c","$RefreshReg$"],"sources":["/Users/gm10/Desktop/DEVELOPMENT/dashboard/frontend/src/pages/RoleManagement.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Table from \"../components/Table\";\nimport RoleDropdown from \"../components/RoleDropdown\";\nimport api from \"../utils/api\";\n\nconst RoleManagement = () => {\n  const [users, setUsers] = useState([]);\n  const [roles, setRoles] = useState([]);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const usersRes = await api.get(\"/users\");\n      const rolesRes = await api.get(\"/roles\");\n      setUsers(usersRes.data);\n      setRoles(rolesRes.data.map((role) => role.name));\n    };\n    fetchData();\n  }, []);\n\n  const handleRoleChange = async (userId, newRole) => {\n    await api.put(`/users/${userId}`, { role: newRole });\n    setUsers((prev) =>\n      prev.map((user) => (user._id === userId ? { ...user, role: newRole } : user))\n    );\n  };\n\n  return (\n    <div className=\"role-management\">\n      <h1>Role Management</h1>\n      <Table\n        columns={[\"Name\", \"Role\", \"Actions\"]}\n        data={users.map((user) => ({\n          Name: user.name,\n          Role: (\n            <RoleDropdown\n              roles={roles}\n              selectedRole={user.role}\n              onChange={(newRole) => handleRoleChange(user._id, newRole)}\n            />\n          ),\n          Actions: <button onClick={() => console.log(\"Edit\")}>Edit</button>,\n        }))}\n      />\n    </div>\n  );\n};\n\nexport default RoleManagement;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,qBAAqB;AACvC,OAAOC,YAAY,MAAM,4BAA4B;AACrD,OAAOC,GAAG,MAAM,cAAc;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE/B,MAAMC,cAAc,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC3B,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACW,KAAK,EAAEC,QAAQ,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EAEtCC,SAAS,CAAC,MAAM;IACd,MAAMY,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC5B,MAAMC,QAAQ,GAAG,MAAMV,GAAG,CAACW,GAAG,CAAC,QAAQ,CAAC;MACxC,MAAMC,QAAQ,GAAG,MAAMZ,GAAG,CAACW,GAAG,CAAC,QAAQ,CAAC;MACxCL,QAAQ,CAACI,QAAQ,CAACG,IAAI,CAAC;MACvBL,QAAQ,CAACI,QAAQ,CAACC,IAAI,CAACC,GAAG,CAAEC,IAAI,IAAKA,IAAI,CAACC,IAAI,CAAC,CAAC;IAClD,CAAC;IACDP,SAAS,CAAC,CAAC;EACb,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMQ,gBAAgB,GAAG,MAAAA,CAAOC,MAAM,EAAEC,OAAO,KAAK;IAClD,MAAMnB,GAAG,CAACoB,GAAG,CAAC,UAAUF,MAAM,EAAE,EAAE;MAAEH,IAAI,EAAEI;IAAQ,CAAC,CAAC;IACpDb,QAAQ,CAAEe,IAAI,IACZA,IAAI,CAACP,GAAG,CAAEQ,IAAI,IAAMA,IAAI,CAACC,GAAG,KAAKL,MAAM,GAAG;MAAE,GAAGI,IAAI;MAAEP,IAAI,EAAEI;IAAQ,CAAC,GAAGG,IAAK,CAC9E,CAAC;EACH,CAAC;EAED,oBACEpB,OAAA;IAAKsB,SAAS,EAAC,iBAAiB;IAAAC,QAAA,gBAC9BvB,OAAA;MAAAuB,QAAA,EAAI;IAAe;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACxB3B,OAAA,CAACJ,KAAK;MACJgC,OAAO,EAAE,CAAC,MAAM,EAAE,MAAM,EAAE,SAAS,CAAE;MACrCjB,IAAI,EAAER,KAAK,CAACS,GAAG,CAAEQ,IAAI,KAAM;QACzBS,IAAI,EAAET,IAAI,CAACN,IAAI;QACfgB,IAAI,eACF9B,OAAA,CAACH,YAAY;UACXQ,KAAK,EAAEA,KAAM;UACb0B,YAAY,EAAEX,IAAI,CAACP,IAAK;UACxBmB,QAAQ,EAAGf,OAAO,IAAKF,gBAAgB,CAACK,IAAI,CAACC,GAAG,EAAEJ,OAAO;QAAE;UAAAO,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC5D,CACF;QACDM,OAAO,eAAEjC,OAAA;UAAQkC,OAAO,EAAEA,CAAA,KAAMC,OAAO,CAACC,GAAG,CAAC,MAAM,CAAE;UAAAb,QAAA,EAAC;QAAI;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ;MACnE,CAAC,CAAC;IAAE;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACC,CAAC;AAEV,CAAC;AAACzB,EAAA,CAxCID,cAAc;AAAAoC,EAAA,GAAdpC,cAAc;AA0CpB,eAAeA,cAAc;AAAC,IAAAoC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}